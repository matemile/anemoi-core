# Several scalers can be added here. In order to be applied their names must be included in the loss.
# scaler name must be included in `scalers` in the losses for this to be applied.

# Keep the pre-existing general-variable and pressure-level scalers
general_variable:
  _target_: anemoi.training.losses.scalers.GeneralVariableLossScaler
  weights:
    default: 1
    q: 0.6
    t: 6
    u: 0.8
    v: 0.5
    w: 0.001
    z: 12
    sp: 10
    10u: 0.1
    10v: 0.1
    2d: 0.5
    tp: 0.025
    cp: 0.0025

pressure_level:
  _target_: anemoi.training.losses.scalers.ReluVariableLevelScaler
  group: pl
  y_intercept: 0.2
  slope: 0.001

# NaN masking scaler
nan_mask_weights:
  _target_: anemoi.training.losses.scalers.NaNMaskScaler

# Node area weights
node_weights:
  _target_: anemoi.training.losses.scalers.GraphNodeAttributeScaler
  nodes_name: ${graph.data}
  nodes_attribute_name: area_weight
  norm: unit-sum

# Additional variable scaler specifically for accumulated variables used by the interpolator
# Adjust per-variable weights here as needed for accumulated targets
accumulated_variable:
  _target_: anemoi.training.losses.scalers.GeneralVariableLossScaler
  weights:
    default: 1.0
    tp: 1.0
    cp: 1.0
    sf: 1.0
    ro: 1.0
    sstrd: 1.0
    ssrd: 1.0


